import React from 'react';
import { HelperStyle, Badge } from 'react-native-minerva';
import { render } from '@testing-library/react-native';
import Comprobante from '../src/Comprobante';

describe('Test para componente Comprobante', () => {
    const textDummy = 'texto de prueba';
    const props = {
        status: 'neutral',
        headerIconName: 'icon-bch-watch-line',
        params: {
            fecha: '8 de noviembre del 2021 14:00hrs',
            transaccion: 'Banconexión Empresas versión móvil',
            operacion: 'pago',
            tipo: '',
            data: [
                {
                    label: 'Monto',
                    labelProps: {
                        accessibilityLabel: textDummy,
                        testID: textDummy,
                    },
                    value: '$ 200.000',
                    valueProps: {
                        accessibilityLabel: textDummy,
                        testID: textDummy,
                        style: HelperStyle.fw_b,
                        number: true,
                    },
                },
                {
                    label: 'Estado',
                    renderRight: () => (
                        <Badge text="procesando" style={HelperStyle.as_fe} />
                    ),
                },
                {
                    label: 'Enviado por',
                    value: 'Administradora de Beneficios',
                },
                {
                    label: 'RUT origen',
                    value: '12.345.678-9',
                },
                {
                    label: 'Cuenta origen',
                    value: 'Cuenta corriente 121231234512',
                },
                {
                    label: 'Beneficiario',
                    value: 'Valentina Sotomayor',
                },
                {
                    label: 'Cuenta destino',
                    value: 'Cuenta corriente 121231234512',
                },
                {
                    label: 'Banco destino',
                    value: 'Scotiabank',
                },
            ],
        },
        idsLabels: {
            tituloVista: '',
            resultadoTransaccion: '',
            iconoCara: '',
            tituloMontoVoucher: '',
            pagadoCon: '',
            pagadoA: '',
            fechaHora: 'FECHA Y HORA',
            sello: '',
            transaccion: 'Hola',
            compartirComprobante: 'Compartir',
            irAInicio: 'Volver',
            compartirNativo: '',
        },
        textosLabels: {
            resultadoTransaccion: 'Procesando transferencia',
            subtitle:
                'Se enviará una notificación cuando la transferencia cambie de estado',
            fechaHora: 'FECHA Y HORA',
            transaccion: 'CANAL',
        },
        appName: 'appBanconexion',
        navigation: {},
    };
    test('deberia renderizar correctamente', () => {
        const { status, params, idsLabels, textosLabels, appName, navigation } =
            props;
        const { toJSON } = render(
            <Comprobante
                status={status}
                params={params}
                idsLabels={idsLabels}
                textosLabels={textosLabels}
                appName={appName}
                navigation={navigation}
            />,
        );
        expect(toJSON()).toMatchSnapshot();
    });
});
