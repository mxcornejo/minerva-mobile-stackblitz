import { size } from 'lodash';
import { dimensions } from '../../index';

const wp = (percentage) => {
    const value = (percentage * dimensions.fullWidth) / 100;
    return Math.round(value);
};
const slideWidth = wp(75);
const itemHorizontalMargin = wp(2);
const defaultSliderHeight = dimensions.fullHeight * 0.36;
const defaultSliderWidth = dimensions.fullWidth;
const defaultItemWidth = slideWidth + itemHorizontalMargin * 2;

/**
 * Hace un split de la data y agrega una posición en el último slide.
 *
 * Formatea la data sí:
 * 1. MaxItems esta definido.
 * 2. La longitud del arreglo data sea mayor a 1.
 * 3. MaxItems sea menor a la longitud del arreglo data.
 */
const getFormatData = (data, maxItems, maxItemsButton) => {
    const getDataSize = size(data);
    if (
        parseInt(maxItems, 10) &&
        getDataSize > 1 &&
        parseInt(maxItems, 10) < getDataSize
    ) {
        const maxData = data.slice(0, parseInt(maxItems, 10));
        if (maxItemsButton) maxData.push({});
        return maxData;
    }
    return data;
};

export {
    defaultSliderHeight,
    defaultSliderWidth,
    defaultItemWidth,
    getFormatData,
};
