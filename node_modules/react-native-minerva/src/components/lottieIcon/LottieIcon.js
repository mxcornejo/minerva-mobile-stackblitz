import React, { memo } from 'react';
import PropTypes from 'prop-types';
import { View } from 'native-base';
import { HelperStyle, LottieView } from '../../index';
import Style from './style';
import LOTTIEICON_STR from './LottieIconStr';

/**
 * Componente para mostrar Lotties con estados. Extiende de lottie-react-native.
 *
 * @component
 */
const LottieIcon = (props) => {
    const { autoPlay, containerStyle, size, loop, style, type } = props;
    return (
        <View
            style={[
                HelperStyle.as_c,
                HelperStyle.mb_4,
                containerStyle,
                Style[size],
            ]}
        >
            <LottieView
                {...props}
                style={style}
                source={
                    LOTTIEICON_STR.lottie[type] || LOTTIEICON_STR.lottie.default
                }
                autoPlay={autoPlay}
                loop={loop}
            />
        </View>
    );
};

LottieIcon.propTypes = {
    /**
     * Booleana que indica si la animaci칩n debe o no comenzar autom치ticamente.
     */
    autoPlay: PropTypes.bool,
    /**
     * Estilos del contenedor del lottie.
     */
    containerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),
    /**
     * Tama침o del icono.
     */
    size: PropTypes.oneOf(Object.values(LOTTIEICON_STR.size)),
    /**
     * Booleano que indica si la animaci칩n debe repetirse o no.
     */
    loop: PropTypes.bool,
    /**
     * Estilos.
     */
    style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),
    /**
     * Tipo de icono lottie.
     */
    type: PropTypes.oneOf(Object.keys(LOTTIEICON_STR.lottie)),
};
LottieIcon.defaultProps = {
    autoPlay: true,
    containerStyle: {},
    size: LOTTIEICON_STR.size.medium,
    loop: false,
    style: {},
    type: 'info',
};

export default memo(LottieIcon);
