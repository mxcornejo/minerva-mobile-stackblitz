import React, { memo } from 'react';
import { ImageBackground } from 'react-native';
import { HelperStyle, LinearGradient } from '../../../index';
import { modalPropTypes, modalDefaultProps } from '../type';

const ModalCampaign = ({ backgroundModalSource, children, style }) => {
    const handleRenderContentModal = () => {
        if (backgroundModalSource) {
            return (
                <ImageBackground
                    source={backgroundModalSource}
                    resizeMode="cover"
                    style={HelperStyle.flx_i}
                >
                    {children}
                </ImageBackground>
            );
        }
        return children;
    };

    return (
        <LinearGradient
            start={{ x: 0, y: 1 }}
            end={{ x: 1, y: 0 }}
            locations={[0.0, 0.99]}
            style={[
                HelperStyle.flx_i,
                HelperStyle.btlr_2,
                HelperStyle.btrr_2,
                style,
            ]}
        >
            {handleRenderContentModal()}
        </LinearGradient>
    );
};

ModalCampaign.propTypes = {
    children: modalPropTypes.children.isRequired,
    style: modalPropTypes.style,
    backgroundModalSource: modalPropTypes.backgroundModalSource,
};
ModalCampaign.defaultProps = {
    style: modalDefaultProps.style,
    backgroundModalSource: modalPropTypes.backgroundModalSource,
};

export default memo(ModalCampaign);
