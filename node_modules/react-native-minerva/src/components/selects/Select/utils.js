import { toString, find } from 'lodash';

/**
 * Retornar los items desagrupada si section es verdadero.
 *
 * @param {object} section - Determina si el items es de tipo section (listado agrupado).
 * @param {Array} items - Data del selector a desagrupar si section es verdadero.
 * @returns {string} - Retorna los items desagrupados si section es verdadero si no retorna el items original.
 */
const getFlattenedItems = (section, items) =>
    section ? items.map((i) => i.data).flat() : items;

/**
 * Retorna el tipo de tÃ­tulo del encabezado del modal del selector.
 *
 * @param {object} placeholder - Texto del placeholder.
 * @param {Array} label - Texto del label.
 * @returns {string} - Retorna el placeholder si esta definido si no retorna el label.
 */
const getHeaderTitle = (placeholder, label) => {
    if (placeholder) return placeholder;
    return label;
};

/**
 * Retorna item selecionado.
 *
 * @param {Array} items - La data del selector.
 * @param {string} selectedValue - Identiciador del item seleccionado.
 * @returns {object} - Retorna item seleccionado.
 */
const getSelected = (items, selectedValue) =>
    find(items, (o) => toString(o.value) === toString(selectedValue));

export default {
    getFlattenedItems,
    getHeaderTitle,
    getSelected,
};
