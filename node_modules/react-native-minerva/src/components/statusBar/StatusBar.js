import React, { memo } from 'react';
import PropTypes from 'prop-types';
import { StatusBar, Platform } from 'react-native';
import { getHeaderHeight, getStatusBarHeight } from '../../index';

/**
 * Componente barra de estado de la aplicación. Extiende de <StatusBar /> react-native.
 *
 * @component
 */
const StatusBarBCH = (props) => {
    const { translucent } = props;
    const heightStatusBar = {
        height: Platform.OS === 'ios' ? getHeaderHeight : getStatusBarHeight,
    };

    const isTranslucentProps = {
        translucent,
        backgroundColor: 'transparent',
        style: heightStatusBar,
    };

    const translucentProps = translucent
        ? isTranslucentProps
        : { barStyle: 'dark-content' };

    return <StatusBar {...translucentProps} {...props} />;
};

StatusBarBCH.propTypes = {
    /**
     * SOLO Android: Cuando es true la aplicación se renderiza debajo de la barra de estado.
     */
    translucent: PropTypes.bool,
};
StatusBarBCH.defaultProps = {
    translucent: true,
};

export default memo(StatusBarBCH);
