import React from 'react';
import PropTypes from 'prop-types';
import { Root } from 'native-base';
import {
    StyleProvider,
    minerva,
    ColorsBCH,
    ColorsBEC,
    getTheme,
    DropdownAlert,
    HelperBuild,
} from '../index';

const Theme = ({ children, brand }) => {
    const getThemeByBrand = () => {
        if (brand === '1') return ColorsBCH;
        return ColorsBEC;
    };

    const reloadHelper = (color) => {
        HelperBuild({ colors: color });
    };

    const current = getThemeByBrand();
    reloadHelper(current);
    const theme = getTheme(minerva(current));

    return (
        <Root>
            <StyleProvider style={theme}>
                <>
                    {children}
                    <DropdownAlert />
                </>
            </StyleProvider>
        </Root>
    );
};

Theme.propTypes = {
    children: PropTypes.node.isRequired,
    brand: PropTypes.oneOf(['1', '2']),
};

Theme.defaultProps = {
    brand: '1',
};

export default Theme;
