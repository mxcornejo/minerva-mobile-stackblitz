# react-native-minerva

Libreria de componentes UI del Banco, esta basada en el UI Kits [NativeBase](https://nativebase.io/)

[Documentación react-native-minerva](http://confluence.bch.bancodechile.cl:8090/display/TD/Minerva)

[App demo react-native-minerva](http://bitbucket.bch.bancodechile.cl:7990/projects/INVA/repos/react-native-minerva-documentacion/browse)

## Instalación

#### 1. Agregar al `package.json` de tu proyecto las siguientes dependencias:

* Dependecias bases:
```json
"dependencies": {
    "@react-native-community/masked-view": "0.1.11",
    "@react-native-community/datetimepicker": "3.5.2",
    "@react-native-picker/picker": "2.2.0",
    "@react-navigation/bottom-tabs": "6.3.1",
    "@react-navigation/drawer": "^6.4.1",
    "@react-navigation/elements": "^1.2.1",
    "@react-navigation/native": "6.0.2",
    "@react-navigation/native-stack": "6.0.5",
    "@react-navigation/stack": "6.0.6",
    "react-native-gesture-handler": "1.10.3",
    "react-native-minerva": "git+ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/react-native-minerva.git#master",
    "react-native-reanimated": "2.2.4",
    "react-native-safe-area-context": "3.3.2",
    "react-native-screens": "3.13.1",
    "react-native-linear-gradient": "2.5.6",
    "lottie-ios": "3.2.3",
    "lottie-react-native": "4.1.3"
}
```

* Dependecias para bch-mobile-utils:
```json
"dependencies": {
    "bch-mobile-utils": "git+ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/bch-mobile-utils.git#develop",
    "@react-native-async-storage/async-storage": "1.15.11",
    "bch-mobile-constants": "git+ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/bch-mobile-constants.git#v2.5.0",
}
```

* Dependecias para comprobante:
```json
"dependencies": {
    "bch-mobile-comprobante": "ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/bch-mobile-comprobante.git#develop",
    "react-native-share": "7.2.1",
    "react-native-view-shot": "3.1.2"
}
```

* Dependecias para compartir cuenta:
```json
"dependencies": {
    "bch-mobile-compartir-cuenta": "git+ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/bch-mobile-compartir-cuenta.git#develop",
    "bch-mobile-constants": "git+ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/bch-mobile-constants.git#v2.5.0",
    "react-native-share": "7.2.1",
}
```

* Dependecias para bch-mobile-header:
```json
"dependencies": {
    "bch-mobile-header": "git+ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/bch-mobile-header.git#develop",
}
```

* Dependecias para bch-mobile-tooltip:
```json
"dependencies": {
    "bch-mobile-tooltip": "git+ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/bch-mobile-tooltip.git#master",
}
```

* Dependecias para bch-mobile-skeleton:
```json
"dependencies": {
    "bch-mobile-skeleton": "git+ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/bch-mobile-skeleton.git#develop",
}
```

* Dependecias para bch-mobile-menu:
```json
"dependencies": {
    "bch-mobile-menu": "git+ssh://git@bitbucket.bch.bancodechile.cl:7999/inva/bch-mobile-menu.git#develop",
}
```

#### 2. Crea un archivo en la raiz del proyecto llamado: **react-native.config.js** y agrega lo siguiente:

```json
module.exports = {
    assets: ['./node_modules/bch-assets/fonts'],
};
```

_**NOTA**: Este archivo es necesario para la instalación de las fuentes._

#### 3. Configuración de Lottie

[lottie-react-native docs](https://github.com/lottie-react-native/lottie-react-native#installing-react-native--0600)

#### 4. Configuración de Reanimated v2

[react-native-reanimated docs](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/installation)


#### 5. Ejecutar en consola: (Ejecutar este comando **solo una vez**)

- `sh node_modules/react-native-minerva/scripts/install.sh` 

**NOTA**:
- Por un conflicto entre las fuentes cada vez que se ejecute **pod install** o **npx pod-install** se debe borrar las fuentes de **rm -rf node_modules/react-native-vector-icons/Fonts**

## Script opcional

#### 1. Para actualizar la fonts de Iconos en android ejecutar en consola: 

- `sh node_modules/react-native-minerva/scripts/assets.sh` Opcion 2 "Fonts"

- - -

## Uso

Para mas información acerca de la configuracion del theme revisar la documentación de [NativeBase](https://docs.nativebase.io/Customize.html#theaming-nb-headref)

```javascript

import React from 'react';
import {
    getTheme,
    minerva,
    StyleProvider,
    DropdownAlert,
    ColorsBCH, // Variable de color de Banco de Chile
    ColorsBEC, // Variable de color de banco edwards
    ColorsCCH, // Variable de color de banco CrediChile
    Text,
    Container,
    HelperStyle,
} from 'react-native-minerva';
import { Root } from 'native-base';

class App extends React.PureComponent {
    render() {
        const marcaSelecionada = minerva(ColorsBCH); // Variable de color de la marca selecionada
        const theme = getTheme(marcaSelecionada);
        return (
            <Root>
                <StyleProvider style={theme}>
                    <Container style={[HelperStyle.jc_c, HelperStyle.ai_c]}>
                        <Text>Hola minerva!</Text>
                    </Container>
                </StyleProvider>
                <DropdownAlert />
            </Root>
        );
    }
}

export default App;

```