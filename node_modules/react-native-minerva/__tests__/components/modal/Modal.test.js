import React from 'react';
import { render } from '@testing-library/react-native';
import { Modal, Text } from '../../../src/index';

describe('Test componente <Modal />', () => {
    const mockRenderHeader = jest.fn(() => <Text>Header</Text>);
    const mockSetVisible = jest.fn();
    const props = {
        accessibilityLabel: 'testModal',
        title: 'Cillum pariatur do eu veniam veniam reprehenderit consequat.',
        content: ['Ad occaecat id culpa ad dolore nisi consequat sint.'],
        buttonsGroup: [
            {
                title: 'ok',
                props: {
                    primary: true,
                },
            },
            {
                title: 'Volver',
                props: {
                    neutral: true,
                },
            },
        ],
    };
    test('Debería renderizar correctamente', () => {
        const { buttonsGroup, content, title } = props;
        const { toJSON } = render(
            <Modal
                visible
                setVisible={mockSetVisible}
                title={title}
                content={content}
                buttonsGroup={buttonsGroup}
                dropDownAlert
                hasScroll
            />,
        );
        expect(toJSON()).toMatchSnapshot();
    });

    test('Debería renderizar modal header personalizado ', () => {
        const { buttonsGroup, content } = props;
        const { getByText } = render(
            <Modal
                visible
                renderHeader={mockRenderHeader}
                content={content}
                buttonsGroup={buttonsGroup}
            />,
        );
        expect(getByText('Header')).toBeDefined();
    });

    test('Debería renderizar modal campaña', () => {
        const { toJSON } = render(<Modal visible modalCampaign />);
        expect(toJSON()).toMatchSnapshot();
    });
});
