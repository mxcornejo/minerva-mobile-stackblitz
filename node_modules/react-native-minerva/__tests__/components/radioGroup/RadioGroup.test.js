import React from 'react';
import { render } from '@testing-library/react-native';
import { RadioGroup, Text, HelperStyle } from '../../../src/index';
import Theme from '../../../src/util/Theme';

describe('Test componente <RadioGroup />', () => {
    const items = [
        {
            selected: true,
            onPress: jest.fn(),
            label: 'Opción 1',
        },
        {
            selected: false,
            onPress: jest.fn(),
            children: () => <Text>Opción 2</Text>,
        },
    ];
    test('Debería renderizar correctamente', () => {
        const { toJSON, rerender } = render(
            <Theme>
                <RadioGroup items={items} />
            </Theme>,
        );
        rerender(
            <Theme>
                <RadioGroup items={items[0]} />
            </Theme>,
        );
        rerender(
            <Theme>
                <RadioGroup items={{}} />
            </Theme>,
        );
        expect(toJSON()).toMatchSnapshot();
    });

    test('Debería renderizar radios alineados horizontalmente', () => {
        const { getByText } = render(
            <Theme>
                <RadioGroup horizontal items={items} />
            </Theme>,
        );
        const elemRadio = getByText(items[0].label);
        expect(Object.assign(...elemRadio.props.style)).toEqual(
            expect.objectContaining(HelperStyle.flx_i),
        );
        expect(elemRadio).toBeDefined();
    });
});
