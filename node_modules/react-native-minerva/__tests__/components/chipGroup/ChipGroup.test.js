import React from 'react';
import { render } from '@testing-library/react-native';
import ChipGroup from '../../../src/components/chipGroup/ChipGroup';
import buildStyle from '../../../src/components/chipGroup/style';
import { HelperStyle } from '../../../src';

const Style = buildStyle(HelperStyle);

describe('Test componente <ChipGroup />', () => {
    const props = {
        data: [
            {
                title: 'Chip',
                selected: true,
            },
            {
                title: 'Chip',
                selected: false,
            },
            {
                title: 'Chip',
                selected: false,
            },
        ],
        testID: 'test_ChipGroup',
    };

    test('Debería renderizar correctamente', () => {
        const { data } = props;
        const { toJSON } = render(<ChipGroup data={data} />);
        expect(toJSON()).toMatchSnapshot();
    });

    test('Debería tener estilos horizontal', () => {
        const { data, testID } = props;
        const { getByTestId } = render(
            <ChipGroup data={data} horizontal testID={testID} />,
        );
        const elementChipGroup = getByTestId(testID);
        expect(elementChipGroup).toBeDefined();
        expect(Object.assign(...elementChipGroup.props.style)).toEqual(
            expect.objectContaining(Style.horizontalStyle),
        );
    });
});
