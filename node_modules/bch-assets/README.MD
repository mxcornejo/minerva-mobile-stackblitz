# BCH sssets

Repositorio que expone en `index.js` un objecto con las rutas de los assets comunes como fuentes, imagenes y animaciones para las app.

Tambien almacena las imagenes utilizadas para los correos en la carpeta `public/mails-assets`.

## :envelope: Mails - convención nombre

- Las **carpeta** deben tener nombre con formato **kebab-case**
- Las **imagenes** deben tener nombre con formato **snake_case**

## :envelope: Mails - Uso

Copiar archivo de imagen en la carpeta `public/mails-assets` en la versión que corresponda:

- `public/mails-assets/v1` para versión mails antiguos
- `public/mails-assets/v2` para nueva versión de mails.

Los assets comunes deben ir en la raiz de la carpeta de versión (v1 o v2) y los particulares por App deben ir en una carpeta con el nombre de la app Ejemplo:

- `public/mails-assets/v2/mi-banco/stamp_bch.png`

## :iphone: Apps - convención nombre

- Las **carpeta** deben tener nombre con formato **camelCase**
- Las **imagenes** deben tener nombre con formato **snake_case**
- Los **json lottie** deben tener nombre con formato **snake_case**

## :iphone: App - Uso

1. Copiar archivo en la carpeta respectiva (fonts, imagen o animations)
2. `yarn install` (Para instalar las dependencias necesaria para que funcione el generador de index.js)
3. `yarn run crear` (agrega y expone el nuevo archivo en el objecto para su uso)

## :iphone: App - Funcionamiento

El script crea un objeto que representa el árbol de directorio de la carpeta `images` y sus archivos. Para la carpeta `animations` la representación es solo de los archivos y no del árbol de directorio.

## :iphone: App - Agregar

1. Las imágenes deben ser en formato PNG o JPEG según las siguientes reglas de uso:

   - JPEG para imágenes con mucha variación de colores, ideal para fotografías.

   - PNG para imágenes con poca variación de colores, necesidad de líneas bien definidas, textos o transparencia.

   > Si se elije mal el formato se obtienen archivos de mayor tamaño ya que los algoritmos de compresión y encoding dejan de ser eficaz.

2. Los PNG deben optimizarse mediante zopflipng o similar. El modo básico debe ser suficiente para obtener resultados notorios.

## USO DE ZOPFLIP

1. brew install zopfli
2. Ir a la carpeta que contenga las imagenes.

3. zopflipng -m --lossy_transparent nombre_imagen_input.png nombre_imagen_optimizado.png
4. Borrar las imagenes originales.
5. Renombrar las imagenes optimizadas a como se llamaban originalmente.

