import React, { memo } from 'react';
import PropTypes from 'prop-types';
import { HelperStyle } from 'react-native-minerva';
import Tooltip from 'react-native-walkthrough-tooltip';
import { Platform, StatusBar } from 'react-native';

const propTypes = {
    placement: PropTypes.oneOfType([
        PropTypes.string,
        PropTypes.bool,
    ]),
    contentStyle: PropTypes.oneOfType([
        PropTypes.array,
        PropTypes.object,
    ]),
    tooltipStyle: PropTypes.oneOfType([
        PropTypes.array,
        PropTypes.object,
    ]),
    children: PropTypes.oneOfType([
        PropTypes.node,
        PropTypes.func,
    ]),
    childrenWrapperStyle: PropTypes.oneOfType([
        PropTypes.array,
        PropTypes.object,
    ]),
};

const defaultProps = {
    placement: 'bottom',
    contentStyle: null,
    tooltipStyle: null,
    children: false,
    childrenWrapperStyle: null,
};

const TooltipBch = (props) => {
    const {
        contentStyle,
        tooltipStyle,
        children,
        childrenWrapperStyle,
    } = props;
    return (
        <Tooltip
            animated
            topAdjustment={Platform.OS === 'android' ? -StatusBar.currentHeight : 0}
            backgroundColor={HelperStyle.modalBackdropColor.color}
            accessible={false}
            {...props}
            contentStyle={[HelperStyle.pa_4, HelperStyle.br_3, contentStyle]}
            tooltipStyle={[HelperStyle.shadow, tooltipStyle]}
            childrenWrapperStyle={[HelperStyle.br_2, childrenWrapperStyle]}
            childrenWrapperPadding={8}
            arrowStyle={HelperStyle.o_0}
        >
            {children}
        </Tooltip>
    );
}

TooltipBch.propTypes = propTypes;
TooltipBch.defaultProps = defaultProps;

export default memo(TooltipBch);
