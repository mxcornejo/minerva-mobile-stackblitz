import React, { memo } from 'react';
import PropTypes from 'prop-types';
import { Footer, Grid, Col, Button, Text, HelperStyle, Validate, MapList } from 'react-native-minerva';

/**
 * Componente Footer Login.
 *
 * @component
 */
const LoginFooter = ({ footerButtons }) => {
    const renderButtons = ({ item, index }) => {
        const btnAlign = index === 0 ? HelperStyle.as_fs : HelperStyle.as_fe;
        return (
            <Col size={6} style={[HelperStyle.flx_i, HelperStyle.jc_c]}>
                <Button link primary style={btnAlign} onPress={item?.props?.onPress}>
                    <Text
                        numberOfLines={1}
                        ellipsizeMode="tail"
                        style={[HelperStyle.white, HelperStyle.tt_u]}
                        accessibilityLabel={Validate.safeLabel(item?.accessibilityLabel)}
                        accessibilityHint={Validate.safeLabel(item?.accessibilityHint)}
                        testID={Validate.safeLabel(item?.title)}
                    >
                        {item?.title}
                    </Text>
                </Button>
            </Col>
        );
    };
    return (
        <Footer>
            <Grid style={HelperStyle.ph_6}>
                <MapList data={footerButtons} renderItem={renderButtons} wrapper={false} />
            </Grid>
        </Footer>
    );
};

LoginFooter.propTypes = {
    footerButtons: PropTypes.arrayOf(
        PropTypes.shape({
            title: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),
            props: PropTypes.shape({
                onPress: PropTypes.func,
            }),
        }),
    ).isRequired,
};
export default memo(LoginFooter);
